% XXX should I separate these out any farther due to, e.g., customizations?

\usepackage{fullpage}

\usepackage{todonotes}

\usepackage{glossaries}

\usepackage{varioref}
\labelformat{figure}{Figure~#1}
\labelformat{algorithm}{Algorithm~#1}
\labelformat{subsection}{Section~#1}
\labelformat{section}{Section~#1}

\usepackage{indentfirst}

\usepackage{tikz}
%\usetikzlibrary{external}
%\tikzexternalize

\usepackage{hyperref}

% TODO I REALLY don't want to get delayed by Factor highlighting, but listings
% sucks for Factor

\usepackage{fancyvrb}

%\usepackage{listings,bold-extra}
%\lstset{basicstyle=\ttfamily,keepspaces=true}

%\lstdefinelanguage{Factor} {
%  moreprocnamekeys={:,SYNTAX:,MACRO:,MACRO::,MEMO:,MEMO::,GENERIC:,GENERIC\#,
%                    M:,M::},
%  morekeywords={:, ;, SYNTAX:, MACRO:, MACRO::, MEMO:, MEMO::, GENERIC:,
%                GENERIC\#, M:, M::, <PRIVATE, PRIVATE>, inline, foldable,
%                recursive, f, t, IN:, USE:, UNUSE:, CHAR:, USING:, QUALIFIED:,
%                QUALIFIED-WITH:, FROM:, SINGLETONS:, SYMBOL:, SYMBOLS:, C:,
%                TUPLE:, UNION-STRUCT:, STRUCT:, CONSTANT:, ALIAS:, SINGLETON:,
%                POSTPONE:, DEFER:, FORGET:, MIXIN:, INSTANCE:, HOOK:, MAIN:,
%                CONSTRUCTOR:, ALIEN:, boolean, or, tuck, 2bi, 2tri, while,
%                wrapper, nip, 4dip, wrapper?, bi*, callstack>array, both?,
%                hashcode, die, dupd, callstack, callstack?, 3dup, tri@, pick,
%                curry, build, ?execute, 3bi, prepose, >boolean, ?if, clone,
%                eq?, tri*, ?, =, swapd, call-clear, 2over, 2keep, 3keep, clear,
%                2dup, when, not, tuple?, dup, 2bi*, 2tri*, call, tri-curry,
%                object, bi@, do, unless*, if*, loop, bi-curry*, drop, when*,
%                assert=, retainstack, assert?, -rot, execute, 2bi@, 2tri@, boa,
%                with, either?, 3drop, bi, curry?, datastack, until, 3dip, over,
%                3curry, roll, tri-curry*, swap, tri-curry@, 2nip, and, throw,
%                set-retainstack, bi-curry, (clone), hashcode*, compose, spin,
%                2dip, if, 3tri, unless, compose?, tuple, keep, 2curry, equal?,
%                set-datastack, assert, tri, 2drop, most, <wrapper>, boolean?,
%                identity-tuple?, , null, new, set-callstack, dip, bi-curry@,
%                rot, -roll, xor, identity-tuple, boolean, ?at, assoc?,
%                assoc-clone-like, assoc=, delete-at*, assoc-partition,
%                extract-keys, new-assoc, value?, assoc-size, map>assoc,
%                push-at, assoc-like, key?, assoc-intersect, assoc-refine,
%                update, assoc-union, assoc-combine, at*, assoc-empty?, at+,
%                set-at, assoc-all?, assoc-subset?, assoc-hashcode, change-at,
%                assoc-each, assoc-diff, zip, values, value-at, rename-at,
%                inc-at, enum?, at, cache, assoc>map, <enum>, assoc, assoc-map,
%                enum, value-at*, assoc-map-as, >alist, assoc-filter-as,
%                clear-assoc, assoc-stack, maybe-set-at, substitute,
%                assoc-filter, 2cache, delete-at, assoc-find, keys, assoc-any?,
%                unzip, case, execute-effect, no-cond, no-case?, 3cleave>quot,
%                2cleave, cond>quot, wrong-values?, no-cond?, cleave>quot,
%                no-case, case>quot, 3cleave, wrong-values, to-fixed-point,
%                alist>quot, case-find, cond, cleave, call-effect, 2cleave>quot,
%                recursive-hashcode, linear-case-quot, spread, spread>quot,
%                byte-array>bignum, sgn, >bignum, next-float, number=,
%                each-integer, next-power-of-2, ?1+, fp-special?,
%                imaginary-part, mod, recip, float>bits, rational, >float,
%                number?, 2^, bignum?, integer, fixnum?, neg, fixnum, sq,
%                bignum, fp-snan?, fp-infinity?, denominator, (all-integers?),
%                times, find-last-integer, (each-integer), bit?, *, +,
%                fp-bitwise=, -, fp-qnan?, /, power-of-2?, >=, bitand,
%                find-integer, complex, <fp-nan>, <, log2, >, integer?, real,
%                number, bits>double, double>bits, bitor, 2/, zero?, rem,
%                fp-nan-payload, all-integers?, (find-integer), real-part,
%                prev-float, align, bits>float, float?, shift, float, fp-nan?,
%                abs, bitxor, ratio?, even?, <=, /mod, odd?, >integer, ratio,
%                rational?, , bitnot, real?, >fixnum, complex?, /i, numerator,
%                /f, append, assert-sequence=, find-last-from, trim-head-slice,
%                clone-like, 3sequence, assert-sequence?, map-as, filter!,
%                last-index-from, reversed, index-from, cut*, pad-tail,
%                (indices), concat-as, remove-eq, but-last, snip, trim-tail,
%                nths, nth, 2pusher, sequence, slice?, <slice>, partition,
%                remove-nth, tail-slice, empty?, tail*, if-empty, find-from,
%                virtual-sequence?, member?, set-length, remove-eq!,
%                drop-prefix, unclip, iota, unclip-last-slice, bounds-error?,
%                sequence-hashcode-step, map, start, midpoint@, rest-slice,
%                prepend, fourth, sift, remove!, map-sum, new-sequence, follow,
%                like, remove-nth!, first4, 1sequence, reverse, slice,
%                unless-empty, padding, virtual@, repetition?, set-last, index,
%                4sequence, max-length, set-second, immutable-sequence, first2,
%                first3, replicate-as, reduce-index, unclip-slice, supremum,
%                insert-nth, trim-tail-slice, tail, 3append, short, count,
%                suffix, concat, flip, filter, sum, immutable?, 2sequence,
%                map-integers, delete-all, start*, indices, snip-slice,
%                check-slice, sequence?, head, map-find, reduce, append-as,
%                reverse!, sequence=, halves, collapse-slice, interleave, 2map,
%                binary-reduce, virtual-seq, slice-error?, product,
%                bounds-check?, bounds-check, harvest, immutable, find, produce,
%                remove, pad-head, last, replicate, set-fourth, shorten,
%                reversed?, map-find-last, 3map-as, 2unclip-slice, shorter?,
%                3map, find-last, head-slice, pop*, 2map-as, tail-slice*,
%                but-last-slice, 2map-reduce, iota?, accumulate, each, pusher,
%                cut-slice, new-resizable, each-index, head-slice*,
%                2reverse-each, sequence-hashcode, member-eq?, pop, set-nth,
%                ?nth, <flat-slice>, second, map!, join, when-empty,
%                accumulator, immutable-sequence?, , <reversed>, all?,
%                3append-as, virtual-sequence, subseq?, push-either, new-like,
%                length, last-index, push-if, 2all?, lengthen, assert-sequence,
%                copy, map-reduce, move, third, first, 3each, tail?, set-first,
%                prefix, bounds-error, any?, <repetition>, trim-slice, exchange,
%                surround, 2reduce, cut, change-nth, min-length, set-third,
%                produce-as, push-all, head?, delete-slice, rest, sum-lengths,
%                2each, head*, infimum, glue, slice-error, subseq,
%                replace-slice, push, repetition, map-index, trim-head,
%                unclip-last, mismatch, trim, global, +@, change, set-namestack,
%                change-global, init-namespaces, on, off, set-global, namespace,
%                set, with-scope, bind, with-variable, inc, dec, counter,
%                initialize, namestack, get, get-global, make-assoc, <array>,
%                2array, 3array, pair, >array, 1array, 4array, pair?, array,
%                resize-array, array?, , +character+, bad-seek-type?, readln,
%                stream-seek, read, print, with-output-stream, contents, write1,
%                stream-write1, stream-copy, stream-element-type,
%                with-input-stream, stream-print, stream-read, stream-contents,
%                bl, seek-output, bad-seek-type, nl, stream-nl, write, flush,
%                stream-lines, +byte+, stream-flush, read1, seek-absolute?,
%                stream-read1, lines, stream-readln, stream-read-until,
%                each-line, seek-end, with-output-stream*, seek-absolute,
%                with-streams, seek-input, seek-relative?, input-stream,
%                stream-write, read-partial, seek-end?, seek-relative,
%                error-stream, read-until, with-input-stream*, with-streams*,
%                each-block, output-stream, stream-read-partial, resize-string,
%                >string, <string>, 1string, string, string?, , vector?,
%                <vector>, ?push, vector, >vector, 1vector, with-return,
%                restarts, return-continuation, with-datastack, recover,
%                rethrow-restarts, <restart>, ifcc, set-catchstack,
%                >continuation<, cleanup, ignore-errors, restart?,
%                compute-restarts, attempt-all-error, error-thread, continue,
%                <continuation>, attempt-all-error?, condition?, <condition>,
%                throw-restarts, error, catchstack, continue-with,
%                thread-error-hook, continuation, rethrow, callcc1,
%                error-continuation, callcc0, attempt-all, condition,
%                continuation?, restart, return}, 
%  sensitive=false,
%  morecomment=[l]{!},
%  morecomment=[l]{\#!},
%  morestring=[b]",
%  showstringspaces=false,
%  moredelim=*[s]{\{}{\}},
%}

\usepackage{lib/clrscode3e}

\usepackage{float}
\floatstyle{ruled}
\newfloat{algorithm}{tbp}{alg}
\floatname{algorithm}{Algorithm}
